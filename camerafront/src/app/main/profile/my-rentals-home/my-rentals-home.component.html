<div class="out-container">
  <o-table #tableout service="productsRequest" entity="myProductRequestEntry" keys="id_prequest"
    columns="main_photo;id_prequest;product_name;start_date;end_date;tproducts_id_product;state;price;request_text;r_user;p_user;p_phone;r_phone"
    visible-columns="main_photo;product_name;start_date;end_date;state;profit" query-rows="10" pageable="no"
    insert-button="no" delete-button="no" detail-mode="none" refresh-button="none" (onDataLoaded)="filterTable($event)">
    <o-table-column attr="main_photo" orderable="no" searchable="no" width="64px">
      <o-table-cell-renderer-image image-type="base64" empty-image="assets/images/no-image.png" avatar="yes">
      </o-table-cell-renderer-image>
    </o-table-column>
    <o-table-column attr="start_date" title="start_date" width="22%" type="date" format="L"></o-table-column>
    <o-table-column attr="end_date" title="end_date" width="22%" type="date" format="L"></o-table-column>
    <!-- <o-table-column #profit attr="profit" title="profit" >    </o-table-column> -->
    <o-table-column-calculated attr="profit" title="profit" [operation-function]="calculateProfit" currency-symbol="€" type="currency" currency-symbol-position="right">
    </o-table-column-calculated>

    <o-table-column attr="state" title="state">
      <app-status-column-renderer></app-status-column-renderer>
    </o-table-column>
    <o-table-row-expandable icon-collapse="expand_more" icon-expand="chevron_right" (onExpanded)="loadData($event)">
      <ng-template let-row>
        <!-- title="RENT DATA" icon="info" layout-gap="12px" class="container-expandable"(onDataLoaded)=-->
        <!-- <o-column>  -->
        <div>
          <div class="detail-container">
            <span fxFlex="30%"><strong>{{'ID' | oTranslate}}</strong>: {{row.id_prequest}}</span>
            <span fxFlex="20%"><strong>{{'CLIENT' | oTranslate}}</strong>: {{row.r_user}}</span>
            <span fxFlex="20%"><strong>{{'PHONE' | oTranslate}}</strong>: {{row.r_phone}}</span>
            <span fxFlex="20%"><strong>{{'COMMENT' | oTranslate}}</strong>: {{row.request_text}}</span>
            <span fxFlex="20%"><strong>{{'PRICE' | oTranslate}}</strong>: {{row.price}}€</span>
          </div>
          <div fxLayout="row wrap" fxLayoutGap="14px">
            <o-button attr="applyBtn" type="RAISED" label="Apply" layout-padding color="Accent"
              (click)="openDetail(row)"></o-button>
            <o-button attr="denyBtn" type="STROKED" label="Deny" layout-padding color="Warn"
              (click)="stateUpdate(row)"></o-button>
          </div>
        </div>

        <!-- </o-column>  -->
      </ng-template>
    </o-table-row-expandable>
  </o-table>
</div>
<div class="in-container">
  <o-table #tablein service="productsRequest" entity="myProductRequest"
    columns="main_photo;id_prequest;product_name;start_date;end_date;tproducts_id_product;state;price;request_text;r_user;p_user;p_phone;r_phone"
    visible-columns="main_photo;product_name;start_date;end_date;state;price;p_user;p_phone" query-rows="10"
    pageable="no" insert-button="no" delete-button="no" detail-mode="none" refresh-button="none">
    <o-table-column attr="main_photo" orderable="no" searchable="no" width="64px">
      <o-table-cell-renderer-image image-type="base64" empty-image="assets/images/no-image.png" avatar="yes">
      </o-table-cell-renderer-image>
    </o-table-column>
    <o-table-column attr="start_date" title="start_date" width="22%" type="date" format="L"></o-table-column>
    <o-table-column attr="end_date" title="end_date" width="22%" type="date" format="L"></o-table-column>
    <o-table-column attr="price" title="price" currency-symbol="€" type="currency"></o-table-column>
    <o-table-column attr="p_phone" title="phone" type="phone"></o-table-column>
    <o-table-column attr="state" title="state" class="o-table-column-centered">
      <app-status-column-renderer></app-status-column-renderer>
    </o-table-column>
    <o-table-column attr="cancelBtn" width="64px">
      <o-table-cell-renderer-action (onClick)="cancelRequest($event)" icon="event_busy"></o-table-cell-renderer-action>
    </o-table-column>
  </o-table>
</div>